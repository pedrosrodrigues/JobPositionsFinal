<ui:composition template="/WEB-INF/template/CommonLayout.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

	<ui:define name="title">Login</ui:define>
	<ui:define name="bar" style="margin-left:20px;">Login</ui:define>
	<ui:define name="body">
		<div id="loginfrm">
			<h:form id="frm">
				<p:messages id="message" closable="true" />
				<p:panel style="border-width: 0px;">

					<h:panelGrid columns="2" header="Login">
						<p:outputLabel value="Email" for="email" />
						<p:inputText id="email" required="true"
							requiredMessage="Enter your email" value="#{loginBean.email}"
							validatorMessage="" >
							
							</p:inputText>

						<p:outputLabel value="Password" for="senha" />
						<p:password id="senha" required="true"
							value="#{loginBean.password}"
							requiredMessage="Enter your password">
							<f:validateLength minimum="3" maximum="12"/> 
						</p:password>
					</h:panelGrid>
					<h:panelGrid columns="1" style="text-align:right; width:100%;">

						<p:commandLink style="text-align: center;"
							value="Forgot your password?" onclick="PF('dlgPass').show();" />
						<p:outputLabel value="" />
						<p:commandButton value="Login" action="#{loginBean.login}"
							style="margin-top: 10px; width:180px" update="message" />
						<p:outputLabel value="" />
					</h:panelGrid>
				</p:panel>
			</h:form>

		</div>
		<h:form id="passwordfrm">
			<p:dialog header="Recover password" widgetVar="dlgPass" modal="true"
				height="250" weight="250">

				<div id="loginfrm">
					<p:messages id="messageFormP" closable="true" />
					<p:panel id="panel" style="border-width: 0px;">
						<h:panelGrid styleClass="inputTableI" columns="2" cellpadding="4px"
							cellspacing="4px">
							<h:panelGrid styleClass="inputTable" columns="2"
								cellpadding="4px" cellspacing="4px">
								<p:outputLabel value="Please insert your email" for="email" />
								<p:inputText id="email" value="#{recoverPassBean.email}"/>

							</h:panelGrid>
						</h:panelGrid>
						<h:panelGrid columns="1" style="text-align:right; width:100%;">
						<p:commandButton value="Send" action="#{recoverPassBean.generatePassword()}"
							style="margin-top: 10px; width:180px" update="messageFormP" />
						<p:outputLabel value="" />
					</h:panelGrid>
					</p:panel>
				</div>
			</p:dialog>
		</h:form>


	</ui:define>
</ui:composition>
